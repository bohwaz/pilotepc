!function(e){"use strict";var t,a={debtorAnnual:!0,creditorAnnual:!0,monthlyIncome:3,decreasedIncome:3,predictableDecreasedIncome:3,averagePredictableIncome:3,monthlyIncomeProperty:4,revisedAveragePredictableIncome:4,monthlyDifference:5,differenceUnit:5,weddingLength:5,weddingLengthCorrelatedDifference:5,ageCoefficient:5,ageCorrelatedDifference:5,inclusiveRetirementDifference:10,compensatoryBenefit:20},n={},r={},i={},o="",c=!1,l={debtorReturnRate:3,creditorReturnRate:3},d={},s={init:function(){this.name=this.searchString(this.dataBrowser)||"",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||""},searchString:function(e){for(var t=0;t<e.length;t++){var a=e[t].string,n=e[t].prop;if(this.versionSearchString=e[t].versionSearch||e[t].identity,a){if(-1!=a.indexOf(e[t].subString))return e[t].identity}else if(n)return e[t].identity}},searchVersion:function(e){var t=e.indexOf(this.versionSearchString);if(-1!=t)return parseFloat(e.substring(t+this.versionSearchString.length+1))},getName:function(e){var t="";switch(e){case"firefox":t="Firefox";break;case"explorer":t="Internet Explorer";break;case"chrome":t="Google Chrome";break;case"opera":t="Opera";break;case"safari":t="Safari"}return t},dataBrowser:[{string:navigator.userAgent,identity:"firefox",subString:"Firefox",versionSearch:"Firefox"},{string:navigator.userAgent,subString:"MSIE",identity:"explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Chrome",identity:"chrome",versionSearch:"Chrome"},{string:navigator.userAgent,subString:"Opera",identity:"opera",versionSearch:"Version"},{string:navigator.userAgent,subString:"Safari",identity:"safari",versionSearch:"Version"}]},u=function(t){return e("#"+t)},f=function(e){var t,a,n,r;if(e=e.replace(/\s/g,"").replace(/€/g,""),t=-1===e.indexOf("-")?"":"-",e=e.replace(/-/g,""),a=e.indexOf(","),a=-1===a?"":e.substr(a,3),e.length>3)for(n=e.length,r=0;n>=1;n-=1)3===r&&(r=-1,e=e.substring(0,n)+" "+e.substring(n,e.length),n>3?n+=1:n=0),r+=1;return t+e+a+" €"},h=function(e){return e.replace(/\s/g,"").replace(/€/g,"")},p=function(e){var t,a,n,r,i;if(e=e.replace(/\./g,",").replace(/\s/g,"").replace(/%/g,""),t=-1===e.indexOf("-")?"":"-",e=e.replace(/-/g,""),n=e.indexOf(","),a=-1===n?"":e.substr(n,3),e=-1===n?e:e.substr(0,n),e.length>3)for(r=e.length,i=0;r>=1;r-=1)3===i&&(i=-1,e=e.substring(0,r)+" "+e.substring(r,e.length),r>3?r+=1:r=0),i+=1;return t+e+a+" %"},v=function(e){return e.replace(/\s/g,"").replace(/%/g,"")},g=function(e){return e=h(e).replace(/,/g,"."),parseFloat(e)},b=function(e){e=e.replace(/\s/g,"").replace(/années/g,"").replace(/année/g,"");var t=g(e)>1?" années":" année";return e+t},m=function(e){return e.replace(/\s/g,"").replace(/années/g,"").replace(/année/g,"")},y=function(e){return e=e.replace(/\s/g,"").replace(/ans/g,""),e+" ans"},P=function(e){return e.replace(/\s/g,"").replace(/ans/g,"")},D=function(e){return e=h(e).replace(/,/g,"."),parseInt(e,10)},w=function(e){var t,a;return t=parseInt(e.substr(e.length-4),10),a=e.substr(0,e.length-5),a=a in n?n[a]:6,e=t+a/12,e.toFixed(2)},I=function(e){return e=e.toFixed(2),e=e.toString(),e.replace(/\./g,",")},k=function(e){return e=Math.floor(e),e=e.toString(),e.replace(/\./g,",")},_=function(e){return e=D(e),k(e/12)},x=function(e,t){return e=D(e),t=D(t),k(e-t)},C=function(e,t,a,n){var r,i;return e=D(e),t=D(t),0==e||""==a||""==n?r=k(t):(a=w(a),n=w(n),i=a-n,r=k(e*(8-i)/8+t*i/8)),r},A=function(e,t){return e=D(e),t=g(v(t)),k(e*(t/100/12))},H=function(e,t){return e=D(e),t=D(t),k(e+t)},T=function(e,t){return e=D(e),t=D(t),k(e-t)},Z=function(e){return e=D(e),k(.6*e)},R=function(e,t){return e=w(e),t=w(t),I(t-e)},M=function(e,t){return e=D(e),t=g(t),k(e*t)},S=function(e){var t;return e=D(e),t=I(62>e?1+(e-18)/100:1+(124-e-18)/100)},V=function(e,t){return e=D(e),t=g(t),k(e*t)},L=function(e,t){var a;return e=""==e?0:D(e),""==t&&(t=0),0==t||0==e?a=k(0):(t=D(t),a=k(e*t)),a},F=function(e,t){return e=D(e),t=D(t),k(e+t)},O=function(e){return e=D(e),k(12*e*8*.3)},q=function(e){return e=D(e),k(e/96)},E=function(e){return e=D(e),k(.3*e)},j=function(e,t){return e=w(e),t=w(t),k(e-t)},J=function(e,t){var a,n;return a=parseInt(e.substr(e.length-4),10),n=e.substr(0,e.length-5),a-=D(t),n+" "+a},B=function(){for(var e=Array.prototype.splice.call(arguments,0,1)[0],a=Array.prototype.splice.call(arguments,0,1)[0],n=Array.prototype.splice.call(arguments,-1,1)[0],r=!0,i=0;i<arguments.length;i++){var o=arguments[i];"undefined"!=typeof o.attr("required")&&o.attr("required")!==!1||""!=o.val()?(r=""==o.val()?!1:r&&o.h5Validate("isValid",{revalidate:!1}),arguments[i]=o.val()):(r=r&&!0,o.hasClass("input-euro")||o.hasClass("input-number")||o.hasClass("input-percent")?arguments[i]="0":arguments[i]="")}r?("undefined"!=typeof t&&(n.hasClass("ui-state-valid")||t.progressbar("value",t.progressbar("value")+a)),n.val(e.apply(this,arguments)),n.trigger("change"),n.trigger("focusout")):n.val()&&("undefined"!=typeof t&&n.hasClass("ui-state-valid")&&t.progressbar("value",t.progressbar("value")-a),n.val(""),n.trigger("change"),n.trigger("focusout"),X(n))},U=function(t,a,n,c){t.Zebra_DatePicker({view:"years",format:"F Y",direction:a,show_icon:!1,always_show_clear:!0,lang_clear_date:o,months:r,months_abbr:i,onClear:function(){t.trigger("change"),t.trigger("focusout"),"function"==typeof c&&c.call()},onSelect:function(){t.trigger("change"),t.trigger("focusout"),"function"==typeof c&&c.call()},readonly_element:!1}),n&&t.data("Zebra_DatePicker").update({start_date:n});var l,d=e(window).width();l=d>979?[-t.outerWidth()-5,t.outerHeight()+e(".Zebra_DatePicker").outerHeight()+5]:d>767&&980>d?[-t.outerWidth()-85,t.outerHeight()+e(".Zebra_DatePicker").outerHeight()+5]:d>689&&768>d?[-t.outerWidth()-35,t.outerHeight()+e(".Zebra_DatePicker").outerHeight()+5]:d>479&&690>d?[-t.outerWidth()-35,t.outerHeight()+e(".Zebra_DatePicker").outerHeight()+5]:[-t.outerWidth()-35,t.outerHeight()+e(".Zebra_DatePicker").outerHeight()+5],t.data("Zebra_DatePicker").update({offset:l})},N=function(){var t=0,a=u("pilotepc"),n=u("print-view");n.html(""),n.append('<section id="pilotepc"><header>'+a.find("header").html()+"</header></section>"),n.find("header h1").html(n.find("header h1").text()),a.find("fieldset").each(function(){3==t++&&(n.find("section").append('<div class="page-break">&nbsp;</div>'),n.find("section").append("<h1>"+n.find("header h1").text()+"</h1>"),n.find("section").append('<p id="print_rappel">'+n.find("section fieldset:first p:first").html()+"</p>")),n.find("section").append("<fieldset><legend>"+e(this).children("legend").html()+"</legend></fieldset>"),e(this).children("div").each(function(){var t=e(this).children("label"),a=e(this).children("input, textarea");if("undefined"!=typeof a.html()){var r=a.val();"text"==a.attr("type")?n.find("section fieldset:last").append('<p id="print_'+a.attr("id")+'"><span class="print-label">'+t.html()+" : </span>"+r+"</p>"):"TEXTAREA"==a.get(0).tagName&&(r="<br>"+r,n.find("section fieldset:last").append('<p id="print_'+a.attr("id")+'"><span class="print-label">'+t.html()+" : </span>"+r+"</p>"))}})})},W=function(){var t=0,a=u("print-view"),n=u("part1");a.html(""),a.append('<section id="pilotepc-howto"><div id="part2">'+e("#part2").html()+"</div></section>"),a.find("section").append('<div class="page-break">&nbsp;</div>'),a.find("section").append('<div id="part1-header">'+e("#part1-header").html()+"</div>"),n.find("fieldset").each(function(){a.find("section").append('<fieldset class="pilotepc"><legend class="pilotepc">'+e(this).children("legend").html()+"</legend></fieldset>"),e(this).children("div.faq-topic").each(function(){(6==t++||14==t||22==t)&&a.find("section fieldset:last").append('<div class="page-break">&nbsp;</div>'),a.find("section fieldset:last").append('<div class="faq-topic">'+e(this).html()+"</div>")})})},Y=function(){var t=new jsPDF,a=u("pilotepc"),n=u("pdf-view");n.html(""),n.append("<h1>"+a.find("header h1").html()+"</h1>"),n.append("<h3>"+a.find("header p").html()+"</h3>"),a.find("fieldset:lt(3)").each(function(t){n.append("<hr>"),n.append("<h2>"+e(this).children("legend").html()+"</h2>"),e(this).children().each(function(a){var r=e(this).children("label"),i=e(this).children("input");if(!(2==t&&a>6)&&"undefined"!=typeof r.html()&&"text"==i.attr("type")){var o=i.val();i.hasClass("input-euro")&&""!=o&&(o=o.replace(/€/g,""),o=parseInt(o.replace(/\s/g,""))>1?o+" euros":o+" euro"),n.append('<p id="pdf_'+i.attr("id")+'"><span class="pdf-label">'+r.html()+" : </span>"+o+"</p>")}})}),t.fromHTML(n.get(0),15,15,{width:180,elementHandlers:{HR:function(e,t){return t.pdf.setLineWidth(.5),t.pdf.line(t.x,t.y+2,195,t.y+2),t.y+=4,!0}}});var r,i=!0,o=a.find("fieldset:first div:first"),c=!1;if(t.addPage(),n.html(""),n.append("<h1>"+a.find("header h1").html()+"</h1>"),n.append('<p id="pdf_rappel"><span class="pdf-label">'+o.children("label").html()+" : </span>"+o.children("input").val()+"</p>"),n.append("<hr>"),a.find("fieldset:eq(2)").each(function(){n.append("<h2>"+e(this).children("legend").html()+" (suite)</h2>"),e(this).children().each(function(t){var a=e(this).children("label"),r=e(this).children("input");if(!(6>=t)&&"undefined"!=typeof a.html()&&"text"==r.attr("type")){var i=r.val();r.hasClass("input-euro")&&""!=i&&(i=i.replace(/€/g,""),i=parseInt(i.replace(/\s/g,""))>1?i+" euros":i+" euro"),n.append('<p id="pdf_'+r.attr("id")+'"><span class="pdf-label">'+a.html()+" : </span>"+i+"</p>")}})}),n.append("<hr>"),a.find("fieldset:gt(2)").each(function(){n.append("<h2>"+e(this).children("legend").html()+"</h2>"),e(this).children().each(function(){var t=e(this).children("label"),a=e(this).children("input, textarea");if("undefined"!=typeof t.html()){var i=a.val();"text"==a.attr("type")?(a.hasClass("input-euro")&&""!=i&&(i=i.replace(/€/g,""),i=parseInt(i.replace(/\s/g,""))>1?i+" euros":i+" euro"),n.append('<p id="pdf_'+a.attr("id")+'"><span class="pdf-label">'+t.html()+" : </span>"+i+"</p>")):"TEXTAREA"==a.get(0).tagName&&(i.length>100?(c=!0,r=e(this)):(n.append('<p id="pdf_'+a.attr("id")+'" class="pdf-label">'+t.html()+" : </p>"),n.append('<p id="pdf_'+a.attr("id")+'_value">'+i+"</p>")))}}),i&&(n.append("<hr>"),i=!1)}),t.fromHTML(n.get(0),15,15,{width:180,elementHandlers:{HR:function(e,t){return t.pdf.setLineWidth(.5),t.pdf.line(t.x,t.y+2,195,t.y+2),t.y+=4,!0}}}),c&&r){var l=r.children("label"),d=r.children("textarea");t.addPage(),n.html(""),n.append("<h1>"+a.find("header h1").html()+"</h1>"),n.append('<p id="pdf_rappel"><span class="pdf-label">'+o.children("label").html()+" : </span>"+o.children("input").val()+"</p>"),n.append("<hr>"),n.append("<h2>"+a.find("fieldset:last legend").html()+" (suite)</h2>"),n.append('<p id="pdf_'+d.attr("id")+'" class="pdf-label">'+l.html()+" : </p>"),n.append('<p id="pdf_'+d.attr("id")+'_value">'+d.val()+"</p>"),t.fromHTML(n.get(0),15,15,{width:180,elementHandlers:{HR:function(e,t){return t.pdf.setLineWidth(.5),t.pdf.line(t.x,t.y+2,195,t.y+2),t.y+=4,!0}}})}return t},X=function(e){e.removeClass("ui-state-error").removeClass("h5-active").removeClass("ui-state-valid"),e.data("valid",!1)},G=function(){var t=e(this).val();t.charAt(0)!=t.charAt(0).toUpperCase()&&(e(this).val(t.charAt(0).toUpperCase()+t.slice(1)),e(this).trigger("change"),e(this).trigger("focusout"))},K=function(){if(e(this).h5Validate("isValid",{revalidate:!1})===!0&&""!=e(this).val()){var t,a=e("#"+e(this).attr("id")+"_base_date");if(""==a.val()){var n=new Date,i=r[n.getMonth()]+" "+n.getFullYear();a.val(i)}t=J(a.val(),e(this).val()),(e(this).data("Zebra_DatePicker").settings.value===!1||c===!1)&&e(this).data("Zebra_DatePicker").update({value:t,start_date:t}),e(this).val(y(e(this).val()))}},Q=function(){""!=e(this).val()&&e(this).val(P(e(this).val()))},z=function(){if(e(this).h5Validate("isValid",{revalidate:!1})===!0&&""!=e(this).val()){var t,a=e("#"+e(this).attr("id")+"_base_date");if(""==a.val()){var n=new Date,i=r[n.getMonth()]+" "+n.getFullYear();a.val(i)}t=J(a.val(),e(this).val()),(e(this).data("Zebra_DatePicker").settings.value===!1||c===!1)&&e(this).data("Zebra_DatePicker").update({value:t,start_date:t}),e(this).val(y(e(this).val())),c=!1}},$=function(){e(this).h5Validate("isValid",{revalidate:!1})===!0&&""!=e(this).val()&&e(this).val(b(e(this).val()))},ee=function(){""!=e(this).val()&&e(this).val(m(e(this).val()))},te=function(){e(this).h5Validate("isValid",{revalidate:!1})===!0&&""!=e(this).val()&&e(this).val(b(e(this).val()))},ae=function(){e(this).h5Validate("isValid",{revalidate:!1})===!0&&""!=e(this).val()&&e(this).val(f(e(this).val()))},ne=function(){""!=e(this).val()&&e(this).val(h(e(this).val()))},re=function(){e(this).h5Validate("isValid",{revalidate:!1})===!0&&""!=e(this).val()&&e(this).val(f(e(this).val()))},ie=function(e){"undefined"!=typeof e.attr("readonly")&&e.attr("readonly")!==!1?e.on("validated",ae):(e.on("focus",ne),e.on("focusout",re))},oe=function(e){"undefined"!=typeof e.attr("readonly")&&e.attr("readonly")!==!1?e.unbind("validated",ae):(e.unbind("focus",ne),e.unbind("focusout",re))},ce=function(){e(this).h5Validate("isValid",{revalidate:!1})===!0&&""!=e(this).val()&&e(this).val(p(e(this).val()))},le=function(){""!=e(this).val()&&e(this).val(v(e(this).val()))},de=function(){""==e(this).val()&&e(this).val(d[e(this).attr("id")]),e(this).h5Validate("isValid",{revalidate:!1})===!0&&""!=e(this).val()&&e(this).val(p(e(this).val()))},se=function(e){"undefined"!=typeof e.attr("readonly")&&e.attr("readonly")!==!1?e.on("validated",ce):(e.on("focus",le),e.on("focusout",de))},ue=function(){e(this).val()||(e(this).val(e(this).attr("data-optionnal")),X(e(this)))},fe=function(){e(this).val()==e(this).attr("data-optionnal")&&e(this).val("")},he=function(e){("undefined"==typeof e.attr("required")||e.attr("required")===!1)&&(e.on("focus",fe),e.on("change",ue))},pe=function(t){var a=e("form",t.data.contact),n=e("#"+t.data.result),r=e("input.submit",t.data.contact);t.preventDefault(),n.fadeOut(1500,function(){n.html("&nbsp;")}),a.fadeIn(1500,function(){r.off("click",ve),r.on("click",t.data,ge)})},ve=function(e){e.preventDefault()},ge=function(t){var a,n,r=e("form",t.data.contact),i=e("#"+t.data.result),o='<div><input id="valid_message" class="submit" type="button" value="Ok"></div>',c=!0,l="";if(t.preventDefault(),e(this).off("click",ge),e(this).on("click",ve),e("#pilotepc-contact input[type=text], #pilotepc-contact textarea").each(function(){var t=e(this);c="undefined"!=typeof t.attr("required")&&t.attr("required")!==!1||""!=t.val()?""==t.val()?!1:c&&t.h5Validate("isValid",{revalidate:!1}):c&&!0,e(this).trigger("change")}),c&&"security"==e("#security_contact").val()){var d=e("#email");n=new jsSHA("security"+d.find("contact").val()+"pilotpc","TEXT"),l=n.getHash("SHA-512","HEX"),a=e.post("./ajax/contact.php",{lastname:e("#lastname_contact").val(),firstname:e("#firstname_contact").val(),email:d.find("contact").val(),subject:e("#subject_contact").val(),message:e("#message_contact").val(),security:l},function(a){r.fadeOut(1e3,function(){0==a.error&&e("#pilotepc-contact input[type=text], #pilotepc-contact textarea").each(function(){e(this).val(""),e(this).trigger("change"),e(this).val(""),X(e(this))})}),i.html(a.message).append(o).fadeIn(1e3),i.parent().css("min-height",i.outerHeight(!0)+"px"),e("#valid_message").click(t.data,pe)},"json"),a.fail(function(){r.fadeOut(1e3),i.html("<p>Il y a une erreur lors de l'envoi du mail, veuillez réessayer plus tard ou envoyer votre message à cette adresse : <a href=\"mailto:"+t.data.mail+'" title="Courriel administrateur" class="button">'+t.data.mail+"</a>.</p>").append(o).fadeIn(1e3),i.parent().css("min-height",i.outerHeight(!0)+"px"),e("#valid_message").click(t.data,pe)})}},be={datePickers:function(t){var a={divorce:"",debtor:"",creditor:"",wedding:"",separation:"",age:"",abbrFromMonth:{},monthsLang:{},monthsAbbrLang:{},clearLang:""},l=e.extend({},a,t);return n=l.abbrFromMonth,r=l.monthsLang,i=l.monthsAbbrLang,o=l.clearLang,this.each(function(){var t=e("#"+l.age),a=e("#"+l.age+"_base_date"),n=new Date,i=r[n.getMonth()]+" "+n.getFullYear(),o=e("#"+l.separation),d=e("#"+l.debtor),s=e("#"+l.creditor),u=e("#"+l.wedding),f=e("#"+l.divorce);U(o,["Janvier 1900",i],i),U(d,[!0,2922]),U(s,[!0,2922]),U(u,["Janvier 1900",i],i,function(){var e,a,n=o.val(),r=t.val();""!=u.val()?(""!=f.val()?o.data("Zebra_DatePicker").update({direction:[u.val(),f.val()],start_date:o.val()?o.val():f.val()}):o.data("Zebra_DatePicker").update({direction:[u.val(),i],start_date:o.val()?o.val():i}),e=(parseInt(u.val().substr(u.val().length-4),10)-18).toString(),a=u.val().substr(0,u.val().length-5),t.data("Zebra_DatePicker").update({direction:["Janvier 1900",a+" "+e],start_date:t.data("Zebra_DatePicker").settings.value?t.data("Zebra_DatePicker").settings.value:a+" "+e})):(""!=f.val()?o.data("Zebra_DatePicker").update({direction:["Janvier 1900",f.val()],start_date:o.val()?o.val():f.val()}):o.data("Zebra_DatePicker").update({direction:["Janvier 1900",i],start_date:o.val()?o.val():i}),e=(parseInt(i.substr(i.length-4),10)-18).toString(),a=i.substr(0,i.length-5),t.data("Zebra_DatePicker").update({direction:["Janvier 1900",a+" "+e],start_date:t.data("Zebra_DatePicker").settings.value?t.data("Zebra_DatePicker").settings.value:i})),n!=o.val()&&(o.trigger("change"),o.trigger("focusout")),r!=t.val()&&(t.trigger("change"),t.trigger("focusout"))}),U(f,[!0,365],i,function(){var e=u.val(),n=d.val(),r=s.val(),c=o.val(),l=t.val();""!=f.val()?(u.data("Zebra_DatePicker").update({direction:["Janvier 1900",f.val()],start_date:u.val()?u.val():f.val()}),d.data("Zebra_DatePicker").update({direction:[f.val(),2922]}),s.data("Zebra_DatePicker").update({direction:[f.val(),2922]}),""!=u.val()?o.data("Zebra_DatePicker").update({direction:[u.val(),f.val()],start_date:o.val()?o.val():f.val()}):o.data("Zebra_DatePicker").update({direction:["Janvier 1900",f.val()],start_date:o.val()?o.val():f.val()}),t.data("Zebra_DatePicker").settings.value!==!1&&(a.val(f.val()),t.val(j(a.val(),t.data("Zebra_DatePicker").settings.value)))):(u.data("Zebra_DatePicker").update({direction:["Janvier 1900",i]}),d.data("Zebra_DatePicker").update({direction:[!0,2922]}),s.data("Zebra_DatePicker").update({direction:[!0,2922]}),""!=u.val()?o.data("Zebra_DatePicker").update({direction:[u.val(),i],start_date:o.val()?o.val():i}):o.data("Zebra_DatePicker").update({direction:["Janvier 1900",i],start_date:o.val()?o.val():i}),t.data("Zebra_DatePicker").settings.value!==!1&&(a.val(i),t.val(j(a.val(),t.data("Zebra_DatePicker").settings.value)))),e!=u.val()&&(u.trigger("change"),u.trigger("focusout")),n!=d.val()&&(d.trigger("change"),d.trigger("focusout")),r!=s.val()&&(s.trigger("change"),s.trigger("focusout")),c!=o.val()&&(o.trigger("change"),o.trigger("focusout")),l!=t.val()&&(t.trigger("change"),t.trigger("focusout"))}),(n.getMonth()<6||n.getMonth()>9)&&f.data("Zebra_DatePicker").update({view:"months"}),U(t,["Janvier 1900",i],i,function(){var e=t.val();""!=t.val()&&(""!=f.val()?(a.val(f.val()),t.val(j(a.val(),t.data("Zebra_DatePicker").settings.value))):(a.val(i),t.val(j(a.val(),t.data("Zebra_DatePicker").settings.value)))),e!=t.val()&&(c=!0,t.trigger("change"),t.trigger("focusout"))});var h=(parseInt(i.substr(i.length-4),10)-18).toString(),p=i.substr(0,i.length-5);t.data("Zebra_DatePicker").update({direction:["Janvier 1900",p+" "+h],start_date:p+" "+h}),o.on("change",G),d.on("change",G),s.on("change",G),u.on("change",G),f.on("change",G),t.on("change",G)})},reload:function(t){var a,n={main:"",mainHT:"",title:"",titleHT:"",print:"",pdf:"",refresh:"",refreshHT:"",swfMessage:"",titlePPC:""},r=e.extend({},n,t),i=u(r.print),o=u(r.pdf);return this.each(function(){document.title=r.titlePPC,e(this).on("click",function(t){t.preventDefault(),e(this).hasClass("selected")||(e(".navtab.selected").removeClass("selected"),e(this).addClass("selected"),e("#"+r.main).show(),e("#"+r.mainHT).hide(),e("#"+r.title).show(),e("#"+r.titleHT).hide(),e("#"+r.refresh).parent().show(),i.off("click"),a=be.printPage,a.apply(i,{}),o.off("click"),a=be.pdfPage,a.apply(o,[{swfMessage:r.swfMessage,pdfName:r.pdfName}]),document.title=r.titlePPC)})})},reloadHowTo:function(t){var a,n={main:"",mainHT:"",title:"",titleHT:"",print:"",pdf:"",refresh:"",refreshHT:"",titleTab1:"",titleTab2:""},r=e.extend({},n,t),i=u(r.print),o=u(r.pdf);return e("#"+r.mainHT).hide(),e("#"+r.titleHT).hide(),this.each(function(){e(this).on("click",function(t){t.preventDefault(),e(this).hasClass("selected")||(e(".navtab.selected").removeClass("selected"),e(this).addClass("selected"),e("#"+r.main).hide(),e("#"+r.mainHT).show(),e("#"+r.title).hide(),e("#"+r.titleHT).show(),e("#"+r.refresh).parent().hide(),i.off("click"),a=be.printHowTo,a.apply(i,{}),o.off("click"),a=be.pdfHowTo,a.apply(o,[{pdf:"./download/PilotePC-modedemploi.pdf"}]),"ui-id-1"==e("li.ui-state-default[aria-selected='true']").attr("aria-labelledby")?document.title=r.titleTab1:document.title=r.titleTab2)})})},progressBar:function(a){var n=e("#"+a.compensatoryBenefit),r=e("#"+a.title),i=e("#"+a.nameCom),o=e("#"+a.nameDef),c=e("#"+a.dateDiv),l=a.textDuring,d=a.textResult;return this.each(function(){t=e(this);var a=t.children(".progress-label");t.progressbar({value:!1,change:function(){r.text(l),t.progressbar("value")!==!1&&a.text(t.progressbar("value")+"%")},complete:function(){var t="";i.val()&&o.val()?t=" ("+i.val()+" / "+o.val()+")":(i.on("focusout",function(){i.val()&&o.val()&&(t=" ("+i.val()+" / "+o.val()+")",r.text(c.val()+t))}),o.on("focusout",function(){i.val()&&o.val()&&(t=" ("+i.val()+" / "+o.val()+")",r.text(c.val()+t))})),r.text(c.val()+t),a.text(d+" : "+n.val()),n.on("change",function(){e(this).h5Validate("isValid",{revalidate:!1})===!0&&""!=e(this).val()&&a.text(d+" : "+f(n.val()))})}})})},tabs:function(t){var a={titleTab1:"",titleTab2:""},n=e.extend({},a,t);return this.each(function(){e(this).on("tabsactivate",function(e,t){"ui-id-1"==t.newTab.attr("aria-labelledby")?document.title=n.titleTab1:document.title=n.titleTab2})})},refreshForm:function(t){return this.each(function(){var a=u(t.progress),n=u(t.title),r=u(t.choiceDebtor),i=u(t.choiceCreditor),o=u(t.baseDate),c=u(t.firstInput);e(this).on("click",function(){r.val("a"),r.trigger("change"),i.val("a"),i.trigger("change"),e("#pilotepc input[type=text], #pilotepc textarea").each(function(){e(this).val(""),e(this).trigger("change"),e(this).val(""),X(e(this))}),e(".input-date, .input-age").each(function(){e(this).data("Zebra_DatePicker").settings.value=!1}),o.val("");for(var d in l)l.hasOwnProperty(d)&&t.defaults.hasOwnProperty(d)&&u(t.defaults[d]).trigger("change").trigger("focusout");a.progressbar("value",0),a.progressbar("value",!1),n.text("PilotePC"),c.focus()})})},feedback:function(t){return this.each(function(){var a=e(this),n=e("input.submit",a),r=e("#"+t.result),i=e.extend({},{contact:a},t);r.fadeOut(0),n.on("click",i,ge)})},toEuro:function(){return this.each(function(){ie(e(this))})},toPercent:function(){return this.each(function(){se(e(this))})},toYear:function(){return this.each(function(){"undefined"!=typeof e(this).attr("readonly")&&e(this).attr("readonly")!==!1?e(this).on("validated",$):(e(this).on("focus",ee),e(this).on("focusout",te))})},toAge:function(){return this.each(function(){"undefined"!=typeof e(this).attr("readonly")&&e(this).attr("readonly")!==!1?e(this).on("validated",K):(e(this).on("focus",Q),e(this).on("focusout",z))})},toOptionnal:function(){return this.each(function(){he(e(this))})},returnToTop:function(){var t,a=e(this);e(window).scroll(function(){t=e(document).scrollTop(),t>=200?a.fadeIn(600):a.fadeOut(600)}),a.click(function(){e(document).scrollTop(0)})},printPage:function(){return this.each(function(){N(),e(this).on("click",function(){return N(),window.print(),!1})})},printHowTo:function(){return this.each(function(){W(),e(this).on("click",function(){return W(),window.print(),!1})})},pdfHowTo:function(t){e(this).on("click",function(){return window.open(t.pdf),!1})},toUrl:function(t){e(this).on("click",function(){return window.location.replace(t.url),!1})},pdfPage:function(t){var a,n;return s.init(),this.each(function(){"explorer"==s.name&&s.version<10||"opera"==s.name?swfobject.getFlashPlayerVersion().major>9?(e(this).parent().append('<div id="pdf" title="'+e(this).attr("title")+'" accesskey="'+e(this).attr("accesskey")+'"></div>'),e(this).remove(),Downloadify.create("pdf",{filename:function(){var a=e("#"+t.pdfName).val();return a=""==a?"pilotepc":a.replace(" ","_"),n=new Date,a+" ("+n.getDate()+"-"+(n.getMonth()+1)+"-"+n.getFullYear()+").pdf"},data:function(){return a=Y(),a.output()},swf:"./media/downloadify.swf",downloadImage:"./img/pdf-button.png",width:20,height:40,transparent:!0,append:!1})):(e(this).attr("title",e(this).attr("title")+"<br><span class='example'>Attention Flash Player est nécessaire.</span>"),e(this).on("click",function(){confirm(t.swfMessage)&&window.open("http://get.adobe.com/fr/flashplayer/")})):e(this).on("click",function(){var r=e("#"+t.pdfName).val();r=""==r?"pilotepc":r.replace(" ","_"),a=Y(),n=new Date,a.save(r+" ("+n.getDate()+"-"+(n.getMonth()+1)+"-"+n.getFullYear()+").pdf")})})},tablePdf:function(){return this.each(function(){e(this).on("click",function(){return window.open("./download/PilotePC-table2015.pdf"),!1})})},copyDate:function(){return this.each(function(){e(this).text((new Date).getFullYear())})},security:function(t){var a,n,r={input:"",document:"",link:"403.html"},i=e.extend({},r,t),o="";return this.each(function(){a=e(this),e(document).keypress(function(e){13==(e.keyCode||e.which)&&(e.preventDefault(),a.click())}),a.on("click",function(){try{n=new jsSHA(e("#"+i.input).val(),"TEXT"),o=n.getHash("SHA-512","HEX")}catch(t){o="error"}"8b221860ffad26c709fd1ef0549e20417ef08d4de4296581b1c849f1a58834015267b84b28170fe932b0ae8cea5423a68dceee981f53bc4119d2c18637b13395"===o||"b6cb34ddb3927e77ba6328bb795d7882090759c7c183408b63491fc191588bff70546368a709380c58ba31e0444a380b468972f0c4c87821fd30af6bcdc38f87"===o?(e(document).unbind("keypress"),e("body").html(i.document)):"error"!==o?window.location.href=i.link:window.location.reload()})})},navigator:function(t){var a,n,r,i,o,c,l,d,u={green:"",yellow:"",red:"",unknow:"",advice:""},f=e.extend({},u,t),h="green";return this.each(function(){switch(s.init(),n=f.unknow,r=f.advice,i=e(this).find(".common-box"),o=e(this).find(".common-box .title"),d=e(this).find(".common-box .content"),c=e(this).find(".common-box .download"),l=e(this).find(".common-box .download button"),l.on("click",function(){c.find("ul").toggle(),"+"==l.html()?l.html("-"):l.html("+")}),s.name){case"explorer":s.version<8?h="red":s.version<=10&&(h="yellow");break;case"firefox":s.version<4&&(h="yellow");break;case"opera":s.version<10&&(h="yellow");break;case"chrome":s.version<3&&(h="yellow");break;case"safari":s.version<4&&(h="yellow");break;default:h="red"}switch(h){case"green":n=f.green,r="",c.hide();break;case"yellow":n=f.yellow;break;case"red":n=f.red;break;default:n=f.unknow,h="red"}i.addClass(h),a=s.getName(s.name),""==a&&(a="Inconnu"),o.html(a+" ("+s.version+")"),d.html("<p>"+n+"</p>"),""!=r&&d.append("<p>"+r+"</p>")})},revenueChoice:function(n){var r={annualDiv:"",monthlyDiv:"",decreased:"",debtor:!1},i=e.extend({},r,n);return this.each(function(){var n,r,o=e(this),c=e("#"+i.annualDiv),l=e("#"+i.monthlyDiv),d=e("#"+i.decreased),s=c.children("input"),u=l.children("input");o.on("change",function(){"a"==o.val()?(i.debtor?a.debtorAnnual=!0:a.creditorAnnual=!0,"undefined"!=typeof t&&u.hasClass("ui-state-valid")&&(n=a.decreasedIncome+a.monthlyIncome,t.progressbar("value",t.progressbar("value")-n)),void 0==s.attr("required")&&(s.removeAttr("readonly"),s.attr("required",!0),s.val(""),s.trigger("change"),s.trigger("focusout")),void 0==u.attr("readonly")&&(oe(u),u.attr("readonly",!0),u.removeAttr("pattern"),u.removeAttr("placeholder"),r=u.attr("title"),u.attr("title",u.attr("data-title")),u.attr("data-title",r),u.val(""),u.trigger("change"),u.trigger("focusout"),ie(u)),""!=d.val()&&(oe(d),d.val(""),d.trigger("change"),d.trigger("focusout"),ie(d)),X(s),X(u),X(d),"none"==s.css("display")&&c.children().fadeIn(50,function(){s.css("display","inline-block")}),c.slideDown(200)):"m"==o.val()&&(i.debtor?a.debtorAnnual=!1:a.creditorAnnual=!1,"undefined"!=typeof t&&u.hasClass("ui-state-valid")&&(n=a.decreasedIncome+a.monthlyIncome,t.progressbar("value",t.progressbar("value")-n)),u.attr("readonly")&&(oe(u),u.removeAttr("readonly"),u.attr("pattern",u.attr("data-pattern")),u.attr("placeholder",u.attr("data-placeholder")),r=u.attr("title"),u.attr("title",u.attr("data-title")),u.attr("data-title",r),u.val(""),u.trigger("change"),u.trigger("focusout"),ie(u)),""!=d.val()&&(oe(d),d.val(""),d.trigger("change"),d.trigger("focusout"),ie(d)),X(u),X(d),"block"==c.css("display")&&c.slideUp(200,function(){s.attr("required")&&(s.attr("readonly",!0),s.removeAttr("required"),s.val(""),s.trigger("change"),s.trigger("focusout")),X(s),c.children().fadeOut(50)}))})})},init:function(t){var n={divorceDate:"",debtorAnnualIncome:"",debtorMonthlyIncome:"",debtorContribution:"",debtorDecreasedIncome:"",debtorPredictableIncome:"",debtorPredictableContribution:"",debtorPredictableDecreasedIncome:"",debtorPredictableDate:"",debtorAveragePredictableIncome:"",debtorProperty:"",debtorReturnRate:"",debtorMonthlyIncomeProperty:"",debtorRevisedAveragePredictableIncome:"",creditorAnnualIncome:"",creditorMonthlyIncome:"",creditorContribution:"",creditorDecreasedIncome:"",creditorPredictableIncome:"",creditorPredictableContribution:"",creditorPredictableDecreasedIncome:"",creditorPredictableDate:"",creditorAveragePredictableIncome:"",creditorProperty:"",creditorReturnRate:"",creditorMonthlyIncomeProperty:"",creditorRevisedAveragePredictableIncome:"",monthlyDifference:"",differenceUnit:"",weddingDate:"",separationDate:"",weddingLength:"",weddingLengthCorrelatedDifference:"",creditorAge:"",ageCoefficient:"",ageCorrelatedDifference:"",weddingRetirementLenght:"",monthlyIncomeBeforeRetirement:"",inclusiveRetirementDifference:"",compensatoryBenefit:"",debtorMaxSavings:"",monthlyPayments:"",debtorMonthlyMaxSavings:"",othersAppreciationElements:"",requestedGivenFixedTotal:""},r=e.extend({},n,t);return this.each(function(){e(document).keypress(function(t){if(13==(t.keyCode||t.which)){var a=e("input:not([readonly='readonly']), select, textarea"),n=a.length,i="undefined"==typeof t.shiftKey?1:t.shiftKey?-1:1;if(!e(document.activeElement)||e(document.activeElement).attr("id")!=r.othersAppreciationElements||1==i)if(t.preventDefault(),e(document.activeElement)){var o,c=a.index(e(document.activeElement))+i;for(c=0>c?a.length-1:c,o=a.eq(c);"none"==o.css("display")&&n>c&&c>0;)c+=i,o=a.eq(c);n>c?o.focus():a.eq(0).focus()}else a.eq(0).focus()}});var t=u(r.debtorAnnualIncome),n=u(r.debtorMonthlyIncome),i=u(r.debtorContribution),o=u(r.debtorPredictableContribution),c=u(r.debtorPredictableIncome),s=u(r.debtorDecreasedIncome),f=u(r.debtorPredictableDecreasedIncome),h=u(r.debtorPredictableDate),p=u(r.divorceDate),v=u(r.debtorAveragePredictableIncome),g=u(r.debtorRevisedAveragePredictableIncome),b=u(r.debtorProperty),m=u(r.debtorReturnRate),y=u(r.debtorMonthlyIncomeProperty),P=u(r.creditorAnnualIncome),D=u(r.creditorMonthlyIncome),w=u(r.creditorContribution),I=u(r.creditorDecreasedIncome),k=u(r.creditorPredictableDate),j=u(r.creditorPredictableIncome),J=u(r.creditorPredictableContribution),U=u(r.creditorPredictableDecreasedIncome),N=u(r.creditorRevisedAveragePredictableIncome),W=u(r.creditorMonthlyIncomeProperty),Y=u(r.creditorAveragePredictableIncome),X=u(r.creditorProperty),G=u(r.creditorReturnRate),K=u(r.monthlyDifference),Q=u(r.differenceUnit),z=u(r.separationDate),$=u(r.weddingDate),ee=u(r.weddingLength),te=u(r.weddingLengthCorrelatedDifference),ae=u(r.creditorAge),ne=u(r.ageCoefficient),re=u(r.ageCorrelatedDifference),ie=u(r.inclusiveRetirementDifference),oe=u(r.weddingRetirementLenght),ce=u(r.monthlyIncomeBeforeRetirement),le=u(r.compensatoryBenefit),de=u(r.debtorMaxSavings),se=u(r.monthlyPayments),ue=u(r.debtorMonthlyMaxSavings);
    t.on("focusout",function(){""!=t.val()&&B(_,a.monthlyIncome,t,n)}),e("#"+r.debtorMonthlyIncome+", #"+r.debtorContribution).on("focusout",function(){var e=a.decreasedIncome;a.debtorAnnual||(e+=a.monthlyIncome),""!=n.val()&&B(x,e,n,i,s)}),e("#"+r.debtorPredictableIncome+", #"+r.debtorPredictableContribution).on("focusout",function(){if(""!=c.val()){var e=a.predictableDecreasedIncome;""!=g.val()&&(e=0),B(x,e,c,o,f)}}),e("#"+r.debtorDecreasedIncome+", #"+r.debtorPredictableDecreasedIncome+", #"+r.debtorPredictableDate+", #"+r.divorceDate).on("focusout",function(){B(C,a.averagePredictableIncome,f,s,h,p,v)}),e("#"+r.debtorAveragePredictableIncome+", #"+r.debtorProperty+", #"+r.debtorReturnRate).on("focusout",function(){var e=a.monthlyIncomeProperty;""!=g.val()&&(e=0),""!=v.val()&&B(A,e,b,m,y)}),e("#"+r.debtorAveragePredictableIncome+", #"+r.debtorAveragePredictableIncome+", #"+r.debtorMonthlyIncomeProperty).on("focusout",function(){var e=a.revisedAveragePredictableIncome;y.val()||(e+=a.monthlyIncomeProperty),v.val()||(e+=a.predictableDecreasedIncome),B(H,e,v,y,g)}),P.on("focusout",function(){""!=P.val()&&B(_,a.monthlyIncome,P,D)}),e("#"+r.creditorMonthlyIncome+", #"+r.creditorContribution).on("focusout",function(){var e=a.decreasedIncome;a.creditorAnnual||(e+=a.monthlyIncome),""!=D.val()&&B(x,e,D,w,I)}),e("#"+r.creditorPredictableIncome+", #"+r.creditorPredictableContribution).on("focusout",function(){if(""!=j.val()){var e=a.predictableDecreasedIncome;""!=N.val()&&(e=0),B(x,e,j,J,U)}}),e("#"+r.creditorDecreasedIncome+", #"+r.creditorPredictableDecreasedIncome+", #"+r.creditorPredictableDate+", #"+r.divorceDate).on("focusout",function(){B(C,a.averagePredictableIncome,U,I,k,p,Y)}),e("#"+r.creditorAveragePredictableIncome+", #"+r.creditorProperty+", #"+r.creditorReturnRate).on("focusout",function(){var e=a.monthlyIncomeProperty;""!=N.val()&&(e=0),""!=Y.val()&&B(A,e,X,G,W)}),e("#"+r.creditorAveragePredictableIncome+", #"+r.creditorMonthlyIncomeProperty).on("focusout",function(){var e=a.revisedAveragePredictableIncome;W.val()||(e+=a.monthlyIncomeProperty),Y.val()||(e+=a.predictableDecreasedIncome),B(H,e,Y,W,N)}),e("#"+r.debtorRevisedAveragePredictableIncome+", #"+r.creditorRevisedAveragePredictableIncome).on("focusout",function(){B(T,a.monthlyDifference,g,N,K)}),K.on("focusout",function(){B(Z,a.differenceUnit,K,Q)}),e("#"+r.weddingDate+", #"+r.separationDate+", #"+r.divorceDate).on("focusout",function(){z.val()&&z.h5Validate("isValid",{revalidate:!1})?B(R,a.weddingLength,$,z,ee):B(R,a.weddingLength,$,p,ee)}),e("#"+r.differenceUnit+", #"+r.weddingLength).on("focusout",function(){B(M,a.weddingLengthCorrelatedDifference,Q,ee,te)}),ae.on("focusout",function(){B(S,a.ageCoefficient,ae,ne)}),e("#"+r.weddingLengthCorrelatedDifference+", #"+r.ageCoefficient).on("focusout",function(){B(V,a.ageCorrelatedDifference,te,ne,re)}),e("#"+r.weddingRetirementLenght+", #"+r.monthlyIncomeBeforeRetirement).on("focusout",function(){var e=a.inclusiveRetirementDifference;""!=ie.val()&&(e=0),B(L,e,oe,ce,ie)}),e("#"+r.ageCorrelatedDifference+", #"+r.inclusiveRetirementDifference).on("focusout",function(){var e=a.compensatoryBenefit;ie.val()||(e+=a.inclusiveRetirementDifference),B(F,e,re,ie,le)}),g.on("focusout",function(){B(O,0,g,de)}),le.on("focusout",function(){B(q,0,le,se)}),g.on("focusout",function(){B(E,0,g,ue)});for(var fe in l)if(l.hasOwnProperty(fe)&&r.hasOwnProperty(fe)){var he=u(r[fe]),pe=l[fe];d[r[fe]]=pe,he.val(pe).trigger("change").trigger("focusout")}})}};e.fn.PilotePC=function(){var t,a=arguments[0];if(be[a])a=be[a],t=Array.prototype.slice.call(arguments,1);else{if("object"!=typeof a&&a)return e.error("Method "+a+" does not exist on jQuery.PilotePC"),this;a=be.init,t=arguments}return a.apply(this,t)}}(jQuery);